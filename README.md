# –ü—Ä–æ–µ–∫—Ç EgeHelperBot ü§ñ
–ü—Ä–æ–µ–∫—Ç –Ω–∞—Ü–µ–ª–µ–Ω –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–º–æ—â–Ω–∏–∫–∞ –¥–ª—è –±—É–¥—É—â–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ï–ì–≠ –Ω–∞ –±–∞–∑–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π YandexGPT 5 Pro. –î–æ—Å—Ç—É–ø–Ω–æ –¥–≤–∞ —Ç–∞—Ä–∏—Ñ–∞ `info` –∏ `all`. 
- `info` - –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—á–µ—Ç –ï–ì–≠ –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ, –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ 1000
- `all` - –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã, –Ω–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ï–ì–≠, –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ 2000
# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ üìÉ

```
EgelHelperBot/
‚îÇ
‚îú‚îÄ‚îÄ .env                    # –§–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ç–æ–∫–µ–Ω—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î)
‚îú‚îÄ‚îÄ README.md               # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ admin/                  # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py        
‚îÇ   ‚îî‚îÄ‚îÄ console.py          # –ö–æ–Ω—Å–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ bot/                    # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ tg_bot.py           # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å –ª–æ–≥–∏–∫–æ–π –±–æ—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ managers/               # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ ManagerGPT.py     
‚îÇ   ‚îî‚îÄ‚îÄ  dataBase.py
```

### Console
---
`console.py`, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `admin`, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–∞—Ä–∏—Ñ–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –∏ —Å—á–µ—Ç—á–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤.

```
import sys
from pathlib import Path
from dateutil.relativedelta import relativedelta

ROOT = Path(__file__).parent.parent  # –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–∞ 2 —É—Ä–æ–≤–Ω—è –≥–ª—É–±–∂–µ (–ø–∞–ø–∫–∞/–ø–æ–¥–ø–∞–ø–∫–∞/—Ñ–∞–π–ª)
# ROOT = Path(__file__).parent  # –ï—Å–ª–∏ —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –≤ sys.path (–µ—Å–ª–∏ –µ–≥–æ —Ç–∞–º –µ—â—ë –Ω–µ—Ç)
if str(ROOT) not in sys.path:
    sys.path.append(str(ROOT))

from managers.dataBase import DataBaseManager
from datetime import datetime, timedelta

db = DataBaseManager()

"""
–î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–µ–¥–Ω–∞–∑–∞–Ω—á–µ–Ω–∞ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ –∏ —Å–ø–æ—Å–æ–±–Ω–∞ –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–¥–ø–∏—Å–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
"""
def update_follow(user_id: int)-> str:
    db.query_database(f"update users set follow = 1 where user_id = {user_id};", reg=True)
    curr_date = datetime.now()
    count_month = input("–ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –∏–ª–∏ –¥–æ –∫–æ–Ω—Ü–∞ —É—á–µ–±–Ω–æ–≥–æ? [1/2]>> ")
    if count_month == '1':
        future_date = curr_date  + relativedelta(months=1)
    else:
        future_date = '2026-07-01'
    format_future_date = future_date.strftime('%Y-%m-%d')

    db.query_database(f"update users set data_end = '{format_future_date}' where user_id = {user_id};", reg=True)
    new_tarrif_plan = input("–ú–µ–Ω—è–µ–º –ª–∏ —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω ? [y/n]>> ")
    if new_tarrif_plan == 'y':
        new_tarrif = input("–ù–∞ –∫–∞–∫–æ–π —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω –º–µ–Ω—è–µ–º (info, all) ? >> ")
        db.query_database(f"update users set  tarrif_plan = '{new_tarrif}' where user_id = {user_id};", reg=True)
    
    
   
    db.query_database(f"update users set count_requests = {0} where user_id = {user_id};", reg=True)
    db.query_database(f"update users set overpayment = {0} where user_id = {user_id};", reg=True)



admin_ask = input("–ó–Ω–∞–µ—Ç–µ –ª–∏ –≤—ã id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è? [y/n] >> ")
if admin_ask == 'n':
    user_name = input('–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –æ–Ω–æ –Ω–µ –ø—É—Å—Ç–æ–µ>> ')
    user_id = db.query_database(f"select user_id from users where user_name_tg = '{user_name}';", reg=True)
    print(user_id)
else:
    user_id = int(input("–í–≤–µ–¥–∏—Ç–µ id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è>>"))
update_follow(user_id)
```

### Tg Bot
---

`tg_bot.py` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `bot` ‚Äî —ç—Ç–æ —Ñ–∞–π–ª —Å –æ—Å–Ω–æ–≤–Ω—ã–º –º–æ–¥—É–ª–µ–º –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∏ –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Å–∞–º–æ–≥–æ —Ç–µ–ª–µ–≥—Ä–∞–º–º-–±–æ—Ç–∞. –¢–æ –µ—Å—Ç—å –∏–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ –Ω–µ–≥–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–≤—è–∑—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ 

### ManagerGPT
---
`ManagerGPT` –≤ –ø–∞–ø–∫–µ `managers` ‚Äî —ç—Ç–æ —Ñ–∞–π–ª —Å –º–æ–¥—É–ª–µ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å YandexGPT Pro. –ß–µ—Ä–µ–∑ –Ω–µ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å—ã–ª –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ YandexGPT. –ü—Ä–∏ –ø–æ–¥–∞—á–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–¥–∞–µ—Ç—Å—è –¥–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ GPT:
1) –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, —è –∑–∞–¥–∞–ª, —á—Ç–æ–±—ã –Ω–µ–π—Ä–æ—Å–µ—Ç—å –æ—Ç–≤–µ—á–∞–ª–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ï–ì–≠ –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ.
2) –°–∞–º –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

